// -------------------------------------------------------------------------------
// GRUNTFILE
// Loading and registering grunt tasks. Shared Grunt config file variables.
// http://gruntjs.com
// -------------------------------------------------------------------------------

module.exports = function(grunt) {
	'use strict';



	// -------------------------------------------------
	// LOAD TASKS
	// Automatically with 'load-grunt-tasks' plugin
	// -------------------------------------------------
	require('load-grunt-tasks')(grunt);



	// -------------------------------------------------
	// SHARED VARIABLES
	// Passed to "grunt-configs" through "options" object
	// -------------------------------------------------

	var options = {

		// COMMENT BANNER
		// Placed on generated files to warn developers not to edit dist files directly
		commentBanner: '/*\nWARNING: Do not edit this file! It is generated automatically from multiple source files.\nLAST MODIFIED: <%= grunt.template.today("yyyy-mm-dd h:MM:ss TT") %>\n*/\n',

		// PATHS
		gruntConfigsPath: 'grunt-configs/',
		srcPath: 'src/',
		distPath: 'dist/',
		srcComponentsPath: '<%= srcPath %>components/',

		// HTML FILES
		srcHtmlFiles: ['<%= srcPath %>*.html', '<%= srcComponentsPath %>**/*.html'],
		distHtmlFiles: ['<%= distPath %>*.html'],

		// SASS/CSS FILES
		srcSassFiles: ['<%= srcPath %>*.scss', '<%= srcComponentsPath %>**/*.scss'],
		srcMainSassFile: '<%= srcPath %>main.scss',
		distMainCssFile: '<%= distPath %>all.min.css',

		// JS FILES
		srcJsFiles: ['<%= srcPath %>*.html', '<%= srcComponentsPath %>**/*.html'],
		distMainJsFile: '<%= distPath %>all.min.js',
		gruntConfigFiles: ['<%= gruntConfigsPath %>*.js'],

		// GRUNT CONFIGS
		config : {
			src: '<%= gruntConfigsPath %>'
		}
	};



	// -------------------------------------------------
	// INIT GRUNT CONFIGS
	// Automatically with 'load-grunt-configs' plugin
	// -------------------------------------------------

	var configs = require('load-grunt-configs')(grunt, options);
	grunt.initConfig(configs);



	// -------------------------------------------------
	// REGISTER TASKS
	// -------------------------------------------------

	// DEFAULT
	// Build, start server, live reload, and watch
	// 'grunt'
	grunt.registerTask('default', ['browserSync', 'watch']);

	// DEBUG
	// Same as default task, except code has been prettified for debugging
	// 'grunt debug'
	grunt.registerTask('debug', ['sass:debug', 'uglify:debug']);
};
